# M2M Connector Service
# Exposes BTP WebSocket and Health/Metrics endpoints
apiVersion: v1
kind: Service
metadata:
  name: connector
  namespace: agent-runtime
  labels:
    app.kubernetes.io/name: agent-runtime
    app.kubernetes.io/component: connector
spec:
  type: ClusterIP
  selector:
    app.kubernetes.io/name: agent-runtime
    app.kubernetes.io/component: connector
  ports:
    - name: btp
      port: 4000
      targetPort: btp
      protocol: TCP
    - name: health
      port: 8080
      targetPort: health
      protocol: TCP
---
# Explorer UI Service (separate for optional external exposure)
apiVersion: v1
kind: Service
metadata:
  name: connector-explorer
  namespace: agent-runtime
  labels:
    app.kubernetes.io/name: agent-runtime
    app.kubernetes.io/component: explorer
spec:
  type: ClusterIP
  selector:
    app.kubernetes.io/name: agent-runtime
    app.kubernetes.io/component: connector
  ports:
    - name: explorer
      port: 5173
      targetPort: explorer
      protocol: TCP
